<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏ú‡∏ô‡∏Å‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</title>
    <link rel="icon" type="image/png" href="Logo.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&family=Inter:wght@400;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="tabs.css">
</head>

<body>
    <div id="saveModal" class="modal-overlay">
        <div class="custom-modal">
            <h3 style="margin-bottom: 15px;">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
            <p style="font-size: 0.9rem; color: #6b7280; margin-bottom: 10px;">‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:</p>
            <input type="text" id="modalInput"
                style="width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; margin-bottom: 20px;">
            <div style="display:flex; gap:10px; justify-content:flex-end;">
                <button onclick="document.getElementById('saveModal').style.display='none'" class="btn"
                    style="width:auto; padding: 8px 20px; background:#f3f4f6;">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button onclick="confirmSaveHistory()" class="btn btn-primary"
                    style="width:auto; padding: 8px 20px;">‡∏ï‡∏Å‡∏•‡∏á</button>
            </div>
        </div>
    </div>

    <div id="loadModal" class="modal-overlay">
        <div class="custom-modal">
            <h3 style="margin-bottom: 15px;">üìÇ ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤</h3>
            <p id="loadModalText" style="margin-bottom: 20px;"></p>
            <div style="display:flex; gap:10px; justify-content:flex-end;">
                <button onclick="document.getElementById('loadModal').style.display='none'" class="btn"
                    style="width:auto; padding: 8px 20px; background:#f3f4f6;">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="confirmLoadBtn" class="btn btn-primary"
                    style="width:auto; padding: 8px 20px;">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ</button>
            </div>
        </div>
    </div>

    <!-- Sidebar with history -->
    <div class="history-sidebar no-print">
        <div class="sidebar-header">
            <div class="sidebar-title">üìã ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</div>
            <select id="fmtSelector" onchange="switchFMT(this.value)"
                style="width: 100%; padding: 8px; margin-top: 10px; border-radius: 8px; border: 1px solid var(--border); font-family: var(--font-main);">
                <option value="01">FMT-01 (‡∏ï‡πâ‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)</option>
                <option value="02">FMT-02 (‡∏â‡∏µ‡∏î‡πÇ‡∏ü‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)</option>
                <option value="03">FMT-03 (‡∏ô‡∏¥‡πà‡∏á‡πÄ‡∏°‡πá‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)</option>
                <option value="05">FMT-05 (‡∏õ‡∏±‡πä‡∏°‡∏•‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)</option>
                <option value="06">FMT-06 (‡∏õ‡∏±‡πä‡∏°‡∏™‡∏π‡∏ç‡∏ç‡∏≤‡∏Å‡∏≤‡∏®‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)</option>
                <option value="15">FMT-15 (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)</option>
                <option value="16">FMT-16 (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏î‡πÇ‡∏ü‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)</option>
                <option value="19">FMT-19 (‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏†‡∏≤‡∏û‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)</option>
                <option value="37">FMT-37 (‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®)</option>
                <option value="38">FMT-38 (‡∏£‡∏≠‡∏Å‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô)</option>
            </select>
        </div>
        <div class="sidebar-header">
            <div class="sidebar-title">üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ</div>
            <div style="font-size: 0.75rem; color: var(--text-sub); margin-top: 5px;">‡∏ù‡πà‡∏≤‡∏¢ / ‡πÅ‡∏ú‡∏ô‡∏Å ‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</div>
        </div>
        <div class="sidebar-actions">
            <input type="checkbox" id="selectAll" onclick="toggleSelectAll(this)" style="cursor: pointer;">
            <label for="selectAll" style="cursor: pointer; font-weight: 600;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</label>
            <button onclick="syncFromCloud()"
                style="margin-left: auto; border: none; background: none; cursor: pointer; color: var(--primary);"
                title="‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Cloud">
                ‚òÅÔ∏è Sync
            </button>
        </div>
        <div class="sidebar-content" id="history-list">
            <!-- Items injected here -->
        </div>
    </div>

    <!-- Main Content & Controls -->
    <div class="controls no-print">
        <div id="statusBadge"
            style="padding: 8px; background: #fee2e2; color: #991b1b; font-size: 0.75rem; text-align: center; border-radius: 8px; margin-bottom: 10px; display: none; font-weight: bold; border: 1px solid #fecaca;">
            üëÄ Viewing History</div>

        <button id="editToggleBtn" class="btn" onclick="toggleEditMode()"
            style="display: none; background: #3b82f6; color: white;"><span>‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ</span></button>
        <button id="updateBtn" class="btn" onclick="updateCurrentHistory()"
            style="display: none; background: var(--warning); color: white;"><span>üîÑ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°</span></button>
        <button class="btn btn-primary" onclick="saveToHistory()"><span>üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡∏°‡πà</span></button>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
            <button class="btn btn-success" onclick="markAllNormal()"
                style="font-size: 0.75rem; padding: 10px 5px;"><span>‚úÖ ‡∏ï‡∏¥‡πä‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span></button>
            <button class="btn btn-danger" onclick="clearAll()" style="font-size: 0.75rem; padding: 10px 5px;"><span>üóëÔ∏è
                    ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span></button>
        </div>

        <hr style="margin: 15px 0; border: 0; border-top: 1px solid var(--border);">

        <button class="btn btn-primary" onclick="printSelected()" id="printSelectedBtn"
            style="background: #000; display: none;">
            <span>üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</span>
        </button>

        <button class="btn btn-outline" onclick="window.print()">
            <span>üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</span>
        </button>
        <div class="drag-handle-bar">‚Ä¢‚Ä¢‚Ä¢</div>
    </div>

    <!-- Print Area -->
    <div id="print-area"></div>

    <!-- Forms Container (Rendered by JS) -->
    <div id="forms-container"></div>

    <!-- Scripts -->
    <script src="checklist_data.js"></script>
    <script src="utils.js"></script>
    <script src="forms_render_a.js"></script>
    <script src="forms_render_b.js"></script>
    <script src="static_forms_a.js"></script>
    <script src="static_forms_b.js"></script>
    <script src="forms_logic.js"></script>
    <script src="main.js"></script>

</body>


</html>


